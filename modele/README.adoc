# Zenika Papers

.Supprimer le contenu de la base
[source,cypher]
----
MATCH (n)
DETACH DELETE n
----

.Creation de la relation avec Cyther

#alimentation : la syntaxe merge create + update
MERGE (whiteList:WhiteList{libelle:'WhiteList'})
MERGE (blackList:BlackList{libelle:'BlackList'})
MERGE(paysFR:Pays{libelle:'France',code:'FR'})
MERGE(paysUS:Pays{libelle:'Etats-Unies',code:'US'})
MERGE(paysMU:Pays{libelle:'Ile Maurice',code:'MU'})
MERGE(paysGB:Pays{libelle:'Royaume-Uni',code:'GB'})
MERGE(paysTU:Pays{libelle:'Tunisie',code:'TU'})
MERGE(paysCA:Pays{libelle:'Canada',code:'CA'})

// creation de l'entite banque
MERGE (banqueSG:Banque{libelle:'Société Générale'})
MERGE (banqueBNP:Banque{libelle:'BNP Paribas'})
MERGE (banqueUTB:Banque{libelle:'Union Tunisienne de Banque'})
MERGE (banqueCA:Banque{libelle:'Banque du Quebec'})

// creation des personne
MERGE(personneVUJ:Personne{nom:'Ujoodha',prenom:'Vickrame',dateNaissance:'1979-06-21',sexe:'M',compteGithub:'vickrame',compteTwitter:'@RuvaChlea',profession:'developpeur'})
MERGE(personneFNE:Personne{nom:'Nègre',prenom:'Florian',sexe:'M',compteGithub:'fnegre',compteTwitter:'@floriannegre',profession:'developpeur'})
MERGE(personneBO:Personne{nom:'Bonneau',prenom:'Antoine',sexe:'M',compteGithub:'',compteTwitter:'@goodWater',profession:'directeur'})
MERGE(personneRestaurateur:Personne{nom:'Restaurant',prenom:'',sexe:'',compteGithub:'',compteTwitter:'',profession:'restaurateur'})
MERGE(personneImprimeur:Personne{nom:'Imprimerie',prenom:'',sexe:'',compteGithub:'',compteTwitter:'',profession:'imprimeur'})

// creation de la typologie de personne
MERGE(typePersonneP:TypePersonne{code:'P',libelle:'physique'})
MERGE(typePersonneM:TypePersonne{code:'M',libelle:'morale'})

// creation des comptes
MERGE(compteAgence:Compte{libelle:'Compte de Zenika Nantes',dateOuverture:'2012-01-01'})
MERGE(compteFNE:Compte{libelle:'Compte de Florian',dateOuverture:'1998-01-01'})
MERGE(compteVUJ:Compte{libelle:'Compte de Vickrame',dateOuverture:'1996-01-01'})

// creation des agences
MERGE(agenceNantes:Agence{libelle:'Zenika Nantes'})
MERGE(agenceParis:Agence{libelle:'Zenika Paris'})

// creation de l entite
MERGE(consultantVUJ:Consultant{email:'vickrame.ujoodha@zenika.com',tel:'06-18-06-21-55'})
MERGE(consultantFNE:Consultant{email:'florian.negre@zenika.com',tel:''})

// creation des evenments
MERGE(evtDevoxMaroc:Evt{libelle:'DEVOXX MAROC', pays:'Maroc', dateDebut:'2018-09-01', dateFin:'2018-09-04',raison:'organiser'})
MERGE(evtVoxxDays:Evt{libelle:'VoxxDays', pays:'Singapore', dateDebut:'2018-10-01', dateFin:'2018-10-04',raison:'participer'})
MERGE(evtGoogleIO:Evt{libelle:'GoogleIO', pays:'Etat-Unis', dateDebut:'2018-05-01', dateFin:'2018-05-04',raison:'assister'})

// creation des adresses
MERGE(adresseParisVUJ:Adresse{numero:49, voie:'Bd de la Chapelle', ville:'Paris',pays:'France', dateDebut:'2011-05-01', dateFin:'2015-10-01'})
MERGE(adresseNantesVUJ:Adresse{numero:24, voie:'rue Rene Cassin', ville:'Nantes',pays:'France', dateDebut:'2015-10-01', dateFin:'2017-01-01'})
MERGE(adresseMaisdonVUJ:Adresse{numero:26, voie:'rue du Gardouet', ville:'Maisdon Sur Sèvres',pays:'France', dateDebut:'2016-12-24'})


// creation de type d'echanges
MERGE(contactMailVUJ:Echange{type:'Mail',destinataire:'cp@mu.tu',pj:'O',date:'2010-01-23',contenu:'Ceci est un test',objet:'Test'})
MERGE(contactTelVUJ:Echange{type:'TEL',destinataire:'0663859539',pj:'N',date:'2018-01-23',contenu:'on mange quoi',objet:''})
MERGE(contactCourVUJ:Echange{type:'Courrier',destinataire:'Caisse Epargne',pj:'N',date:'2017-01-10',contenu:'Changement de banque', objet:'Changement de banque'})

// creation des factures VUJ
MERGE(factureNdfTelVUJ:Facture{libelle:'NDF 201802',destinataire:'Compta Nantes',montant:23.25,intitule:'Telephone'})
MERGE(factureNdfBureauVUJ:Facture{libelle:'NDF 201802',destinataire:'Compta Nantes',montant:70.00,intitule:'Fourniture Mac'})
MERGE(factureNdfMacVUJ:Facture{libelle:'NDF 201802',destinataire:'Compta Nantes',montant:70.00,intitule:'Fourniture Mac'})

// creation des factures ABO
MERGE(factureNdfABO:Facture{libelle:'NDF 201802',destinataire:'Compta Nantes',montant:70.00,intitule:'Tel',dateDepense:'2018-01-03'})
MERGE(factureDiversABO:Facture{libelle:'Choucroute',destinataire:'Compta Nantes',montant:40.00,intitule:'autres',dateDepense:'2018-01-05'})
MERGE(factureRepasABO:Facture{libelle:'NDF 201802',destinataire:'Compta Nantes',montant:45.00,intitule:'Repas Clientelle',dateDepense:'2018-01-06'})
MERGE(factureRDVABO:Facture{libelle:'NDF 201802',destinataire:'Compta Nantes',montant:150.00,intitule:'RDV Clientelle',dateDepense:'2018-03-03'})

// Amelin CE
MERGE(factureTelAOR:Facture{libelle:'NDF 201802',destinataire:'Compta Nantes',montant:05.00,intitule:'Tel',dateDepense:'2018-02-03'})
MERGE(factureDiversAOR:Facture{libelle:'Divers',destinataire:'Compta Nantes',montant:250.00,intitule:'Autres',dateDepense:'2018-02-01'})
MERGE(factureDivers1AOR:Facture{libelle:'Divers',destinataire:'',montant:1250.00,intitule:'Autres',dateDepense:'2018-02-03'})
MERGE(factureDivers2AOR:Facture{libelle:'Divers',destinataire:'',montant:150.00,intitule:'Autres',dateAchat:'2018-01-08'})

// creation d el'entite compta
MERGE(comptaNantes:Compta{ville:'Nantes'})
MERGE(comptaParis:Compta{Ville:'Paris'})

//PAIE
MERGE(transaction1:Transaction{sens:'D',date:'2017-01-01',destinataire:'vickrame',emetteur:'compta Nantes',libelle:'paie',montant:2000.00})
MERGE(transaction2:Transaction{sens:'D',date:'2017-02-01',destinataire:'vickrame',emetteur:'compta Nantes',libelle:'paie',montant:2000.00})
MERGE(transaction3:Transaction{sens:'D',date:'2017-03-01',destinataire:'vickrame',emetteur:'compta Nantes',libelle:'paie',montant:2600.00})
MERGE(transaction4:Transaction{sens:'D',date:'2017-04-01',destinataire:'vickrame',emetteur:'compta Nantes',libelle:'paie',montant:2100.00})

// creation des transactions
MERGE(transaction21:Transaction{sens:'D',date:'2017-01-01',destinataire:'vickrame',emetteur:'compta Nantes',libelle:'paie',montant:2000.00})
MERGE(transaction5:Transaction{sens:'C',date:'2017-03-01',destinataire:'Agence Nantes',emetteur:'compta Paris',libelle:'bonus',montant:10000.00})
MERGE(transaction6:Transaction{sens:'D',date:'2017-03-01',destinataire:'Meetup',emetteur:'Agence Nantes',libelle:'course meetup',montant:400.00})
MERGE(transaction7:Transaction{sens:'D',date:'2017-01-11',destinataire:'Jouet Club',emetteur:'CE Nantes',libelle:'arbre de noel',montant:500.00})
MERGE(transaction8:Transaction{sens:'D',date:'2017-01-25',destinataire:'Agence Nantes',emetteur:'CE Nantes',libelle:'cheque cadeau',montant:3000.00})
MERGE(transaction9:Transaction{sens:'D',date:'2017-04-23',destinataire:'Agence Nantes',emetteur:'CE Nantes',libelle:'confort agence',montant:5000.00})
MERGE(transaction10:Transaction{sens:'D',date:'2017-03-01',destinataire:'Agence Nantes',emetteur:'CE Nantes',libelle:'voyages Portugal',montant:5000.00})
MERGE(transaction11:Transaction{sens:'D',date:'2017-05-01',destinataire:'Agence Nantes',emetteur:'CE Nantes',libelle:'remboursement frais',montant:1000.00})
MERGE(transaction12:Transaction{sens:'D',date:'2017-04-10',destinataire:'',emetteur:'CE Nantes',libelle:'autres',montant:10.00})
MERGE(transaction13:Transaction{sens:'D',date:'2017-06-24',destinataire:'',emetteur:'inconnu',libelle:'divers',montant:2.00})
MERGE(transaction14:Transaction{sens:'D',date:'2017-03-20',destinataire:'',emetteur:'inconnu',libelle:'remboursement frais',montant:2.00})
MERGE(transaction15:Transaction{sens:'D',date:'2017-03-26',destinataire:'',emetteur:'inconnu',libelle:'parking',montant:2.00})
MERGE(transaction16:Transaction{sens:'D',date:'2017-03-24',destinataire:'',emetteur:'inconnu',libelle:'autres',montant:2.00})
MERGE(transaction17:Transaction{sens:'D',date:'2017-03-26',destinataire:'',emetteur:'inconnu',libelle:'achats bureautiques',montant:2.00})
MERGE(transaction18:Transaction{sens:'D',date:'2017-03-26',destinataire:'',emetteur:'inconnu',libelle:'achats bureautiques',montant:2.00})
MERGE(transaction19:Transaction{sens:'D',date:'2017-03-26',destinataire:'',emetteur:'inconnu',libelle:'achats bureautiques',montant:2.00})
MERGE(transaction20:Transaction{sens:'D',date:'2017-03-26',destinataire:'',emetteur:'inconnu',libelle:'achats bureautiques',montant:2.00})


.Tout renvoyer
[source,cypher]
----
MATCH (n)
RETURN n;
----
